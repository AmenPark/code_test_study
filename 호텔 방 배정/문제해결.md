# 호텔 방 배정
## 문제 설명
- 무한히 많은 호실의 호텔에 사람들이 투숙하려고 한다.
- 빈 호실에 투숙하려는 고객에게는 해당 방을 내준다.
- 비지 않은 경우에는 해당 방보다 숫자가 큰 방 중 가장 작은 방을 내준다.
- 각 손님이 어디에 투숙하는지 반환하라.

## 입력양식
- `k`, `room_number` 이 주어진다.
- `k` 는 호텔의 방 숫자이다. 입력요건상 언제나 투숙 가능한 경우만 존재하므로 고려할 필요는 없다.
- `room_number` 은 자연수의 리스트이다.
  - `i`번째 값은 `i`번 손님이 해당 번호의 방에 투숙하기를 요청한 것이다.
  
## 해설
- `k`가 최대 10억 이라는 수치로 문제가 주어지기 때문에 호텔을 직접 만들어 관리하는 것이 아닌 투숙 정보를 관리해야 한다.
- 나는 두 가지 답을 작성했으나, 원리는 거의 동일하다.
- 기본적인 아이디어는 해당 번호의 투숙객이 올 때, 사전에 따른 값의 방을 내어 준다는 것이다.
- 만약 사전에 값이 없다면 해당 방을 내어 주며, 사전에 해당 값을 키로 등록한다.
- 해당 키에 대응하는 쌍은 `n+1`로, 바로 옆 숫자가 1 더 큰 방이다.
- 만약 사전에 값이 존재한다면 해당 방을 내주려는 시도를 한다. 사전을 조회해서 해당 방도 이미 차 있다면, 다시 시도한다.
- 해당 과정에서 사전을 업데이트한다.
- `solution2`의 경우에는 다중 포인터를 사용하면 값의 업데이트를 더 적게하지 않는가 라는 발상에서 만들어진 방식이다.
- 오브젝트를 사전에 등록하여, 여러 키 값에 대해서 해당 오브젝트를 값으로 갖도록 만든다.
- 그럼 해당 오브젝트의 특정 값을 조작하는 것 만으로 여러 키에 대응하는 값이 자동으로 업데이트 된다.
- 다만 이렇게 될 경우, 1~4 호실이 차고, 6~10 호실이 찬 이후 5호실이 들어올 경우가 마음대로 되지 않는다.
- 이 경우에는 그냥 이전 방의 오브젝트에 이후 방 오브젝트값이 대응되도록 만들었다.
- 결국에는 사전에서 다시 찾아보는 방식을 없앨 수는 없었다.

### 기법에 대한 주저리주저리
- 한 번의 업데이트만으로 모든걸 처리하려고 시도해 보았다. 일종의 다중 포인터인데, 결국 끊어진 투숙을 연결해주는 경우 필연적으로 여러 번 업데이트가 발생했다.
- 효율성 테스트 결과 약간의 메모리 절약, 약 30%의 시간절약이 발생했다.
- 다만 테케5는 오히려 시간이 증가했는데, 아무래도 연결하는 방식의 업데이트가 많고 값 하나만을 업데이트 하는 경우는 없었나보다.

## 풀이 후기
- 뭔가 좋은 방법이 생각난것 같아서 다시 풀었는데, 생각보다 막 좋지는 않았다.
- 파이썬의 한계인가 싶기도 하다.
- __ slots__ 는 정말 대단하다. 꼭 쓰자. 10%가량 성능 좋아지는것 같다.
