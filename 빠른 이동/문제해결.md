# 빠른 이동
## 문제 설명
- 1번 노드에서 모든 노드로 접근 가능한 그래프가 존재한다. 각 간선은 단방향이다.
- 종이 위에 이런 그림이 있을 때, 1번 노드에서 간선을 따라 펜으로 경로를 쭉 그어서 모든 정점을 통과하고자 한다.
- 그럼 펜을 종이 위에서 최소한으로 떼서 모든 정점을 펜으로 지나가도록 할 때에 펜을 종이에서 뗀 횟수를 출력하라.

## 입력양식
- `n` `roads`가 입력으로 주어진다.
- `n` 은 정수로, 전체 정점의 숫자를 의미한다.  1부터 n까지 정점에는 자연수로 번호가 붙어있다.
- `roads` 는 두 정수쌍 리스트의 배열이다. `[[x,y], ...]과 같은 꼴이다.
  - 이는 x번 정점에서 y번 정점으로 가는 단방향 간선이 존재한다는 뜻이다.
  
## 해설
- 강한 연결상태를 묶고, 도달 가능성을 기반으로 그래프를 다시 그린후 이분매칭을 사용하여 해결하는 문제이다.
- 강한 연결상태, 즉 사이클을 판단하는 방법은 타잔의 알고리즘을 사용했다.
  - 깊이 우선 탐색을 하는데 변주를 준 것이다. 탐색 전, 탐색 중, 탐색 후라는 상태와 각 방문한 노드에 스택의 몇 번째에 위치하는지 인덱스를 부여한다.
  - 깊이우선탐색을 하며 탐색이 끝난 노드를 만나면 탐색 끝, 탐색 중인 노드를 만나면 이는 스택에서 해당 노드부터 지금의 노드까지 사이클을 이룬다는 뜻이다.
  - 탐색한 적이 없는 것은 재귀적으로 탐색하여 해결한다.
- reachability graph, 말 그대로 도달 가능하면 간선으로 이어주는 그래프를 만들었다.
  - 이 또한 재귀적인 방법을 사용하였다. 원래는 정방향으로 해야 하나, 이후 작업인 이분매칭 특성상 역방향으로 그래프를 만들어도 상관 없어서 그렇게 하였다.
  - 그냥 이분매칭을 사용하면 간선이 겹치지 않는 경우의 횟수를 셀 수 있다.
  - reachability graph를 사용하면, 겹치는 정점을 하나의 path만 이용하며, 나머지는 건너뛰면서 이용하여 문제를 해결할 수 있다.
    
### 기법에 대한 주저리주저리
- 타잔의 방법은 내가 고민해서 만들어냈다고 생각했는데 이미 이름이 있었다.
- 원래는 비트마스킹 기법을 사용하여 노드의 조상-자식 관계를 파악하려 했었다. 문제 해결이 되지 않아서 새로운 방법으로 재도전해서 코드에는 남아있지 않다.
- 이분매칭은 정말 신비할 정도이다. 뭘 넣느냐에 따라 좋은 답안을 만들어 낸다.

## 풀이 후기
- 맨 처음에는 간선을 겹치지 않게 해서 조각난 덮개를 만들고, 그 덮개를 최선의 방법으로 연결하는 방법을 사용하였다.
- 그러나 그 방법에는 예외가 있었다. 어떤 경우에는 그것이 최선으로 이어지지 않는 것이었다. 여기서 어떻게 해야 문제를 해결 가능한지 원점으로 돌아가는 과정이 있었다.
- 어렵지만 재미있는 문제. 이분매칭을 이전 문제에서 공부하며 이제 쉽다고 생각했는데, 적용에 따라 생각지도 못하게 문제를 풀게 되어서 놀라웠다.
